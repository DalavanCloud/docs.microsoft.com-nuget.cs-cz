---
title: Způsoby instalace balíčků NuGet | Microsoft Docs
author: kraigb
ms.author: kraigb
manager: ghogen
ms.date: 02/12/2018
ms.topic: overview
ms.prod: nuget
ms.technology: ''
description: Popisuje postup instalace balíčků NuGet do projektu, včetně toho, co se stane, na disku a pro soubory použít projektu.
keywords: Nainstalujte NuGet, využívání balíčku NuGet, instalace balíčků NuGet, odkazy na balíček NuGet
ms.reviewer:
- karann-msft
- unniravindranathan
ms.workload:
- dotnet
- aspnet
ms.openlocfilehash: b8cce7bd6c1bd73eb018b8891ddd72b2f4432d55
ms.sourcegitcommit: beb229893559824e8abd6ab16707fd5fe1c6ac26
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 03/28/2018
---
# <a name="different-ways-to-install-a-nuget-package"></a><span data-ttu-id="ced8b-104">Různé způsoby, jak nainstalovat balíček NuGet</span><span class="sxs-lookup"><span data-stu-id="ced8b-104">Different ways to install a NuGet Package</span></span>

<span data-ttu-id="ced8b-105">Balíčky NuGet jsou stáhli a nainstalovali pomocí libovolné metody v následující tabulce (najdete v části [nástrojích klienta nainstalovat NuGet](../install-nuget-client-tools.md) Pokud nemáte tyto už nainstalované).</span><span class="sxs-lookup"><span data-stu-id="ced8b-105">NuGet packages are downloaded and installed using any of the methods in the following table (see [Install NuGet client tools](../install-nuget-client-tools.md) if you don't have these installed already).</span></span> <span data-ttu-id="ced8b-106">Balíček může načítat z mezipaměti místo stáhli.</span><span class="sxs-lookup"><span data-stu-id="ced8b-106">The package may be retrieved from a cache instead of downloaded.</span></span>

| <span data-ttu-id="ced8b-107">Metoda</span><span class="sxs-lookup"><span data-stu-id="ced8b-107">Method</span></span> | <span data-ttu-id="ced8b-108">Popis</span><span class="sxs-lookup"><span data-stu-id="ced8b-108">Description</span></span> |
| --- | --- |
| <span data-ttu-id="ced8b-109">dotnet.exe CLI</span><span class="sxs-lookup"><span data-stu-id="ced8b-109">dotnet.exe CLI</span></span><br/>`dotnet add package <package_name>` | <span data-ttu-id="ced8b-110">(Všechny platformy) Načte balíček identifikovaný \<název_balíčku\>, představuje obsah ve složce v aktuálním adresáři a přidá odkaz na soubor projektu.</span><span class="sxs-lookup"><span data-stu-id="ced8b-110">(All platforms) Retrieves the package identified by \<package_name\>, expands its contents into a folder in the current directory, and adds a reference to the project file.</span></span> <span data-ttu-id="ced8b-111">Také načte a nainstaluje závislosti.</span><span class="sxs-lookup"><span data-stu-id="ced8b-111">Also retrieves and installs dependencies.</span></span><ul><li>[<span data-ttu-id="ced8b-112">Instalace a použití balíčku (rozhraní příkazového řádku dotnet)</span><span class="sxs-lookup"><span data-stu-id="ced8b-112">Install and use a package (dotnet CLI)</span></span>](../quickstart/install-and-use-a-package-using-the-dotnet-cli.md)</li><li>[<span data-ttu-id="ced8b-113">příkaz balíček přidat DotNet.</span><span class="sxs-lookup"><span data-stu-id="ced8b-113">dotnet add package command</span></span>](/dotnet/core/tools/dotnet-add-package)</li></ul> |
| <span data-ttu-id="ced8b-114">Uživatelského rozhraní Správce balíčků (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="ced8b-114">Package Manager UI (Visual Studio)</span></span> | <span data-ttu-id="ced8b-115">(Windows a Mac) Poskytuje uživatelské rozhraní, pomocí kterého můžete procházet, vyberte a nainstalujte balíčky a jejich závislosti do projektu ze zdroje zadaného balíčku.</span><span class="sxs-lookup"><span data-stu-id="ced8b-115">(Windows and Mac) Provides a UI through which you can browse, select, and install packages and their dependencies into a project from a specified package source.</span></span> <span data-ttu-id="ced8b-116">Přidá odkazy na balíčky nainstalované do souboru projektu.</span><span class="sxs-lookup"><span data-stu-id="ced8b-116">Adds references to installed packages to the project file.</span></span><ul><li>[<span data-ttu-id="ced8b-117">Instalace a použití balíčku (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="ced8b-117">Install and use a package (Visual Studio)</span></span>](../quickstart/install-and-use-a-package-in-visual-studio.md)</li><li>[<span data-ttu-id="ced8b-118">Odkaz uživatelského rozhraní Správce balíčků (Windows)</span><span class="sxs-lookup"><span data-stu-id="ced8b-118">Package Manager UI reference (Windows)</span></span>](../tools/package-manager-ui.md)</li><li>[<span data-ttu-id="ced8b-119">Včetně balíček NuGet do projektu (Mac)</span><span class="sxs-lookup"><span data-stu-id="ced8b-119">Including a NuGet package in your project (Mac)</span></span>](/visualstudio/mac/nuget-walkthrough)</li></ul> |
| <span data-ttu-id="ced8b-120">Konzola správce balíčků (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="ced8b-120">Package Manager Console (Visual Studio)</span></span><br/>`Install-Package <package_name>` | <span data-ttu-id="ced8b-121">(Jenom Windows) Načte a nainstaluje balíček identifikovaný \<název_balíčku\> z vybraného zdroje do zadaného projektu v řešení, pak přidá odkaz na soubor projektu.</span><span class="sxs-lookup"><span data-stu-id="ced8b-121">(Windows only) Retrieves and installs the package identified by \<package_name\> from a selected source into a specified project in the solution, then adds a reference to the project file.</span></span> <span data-ttu-id="ced8b-122">Také načte a nainstaluje závislosti.</span><span class="sxs-lookup"><span data-stu-id="ced8b-122">Also retrieves and installs dependencies.</span></span><ul><li>[<span data-ttu-id="ced8b-123">Instalace a použití balíčku (Visual Studio)</span><span class="sxs-lookup"><span data-stu-id="ced8b-123">Install and use a package (Visual Studio)</span></span>](../quickstart/install-and-use-a-package-in-visual-studio.md)</li><li>[<span data-ttu-id="ced8b-124">Konzola správce balíčků Průvodce</span><span class="sxs-lookup"><span data-stu-id="ced8b-124">Package Manager Console guide</span></span>](../tools/package-manager-console.md)</li></ul> |
| <span data-ttu-id="ced8b-125">nuget.exe CLI</span><span class="sxs-lookup"><span data-stu-id="ced8b-125">nuget.exe CLI</span></span><br/>`nuget install <package_name>` | <span data-ttu-id="ced8b-126">(Všechny platformy) Načte balíček identifikovaný \<název_balíčku\> a rozšíří jeho obsah do složky v aktuálním adresáři, můžete také načíst všechny balíčky uvedené v `packages.config` souboru.</span><span class="sxs-lookup"><span data-stu-id="ced8b-126">(All platforms) Retrieves the package identified by \<package_name\> and expands its contents into a folder in the current directory; can also retrieve all packages listed in a `packages.config` file.</span></span> <span data-ttu-id="ced8b-127">Také načte a nainstaluje závislosti, ale neprovede žádné změny souborů projektu nebo `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="ced8b-127">Also retrieves and installs dependencies, but makes no changes to project files or `packages.config`.</span></span><ul><li>[<span data-ttu-id="ced8b-128">příkaz instalovat</span><span class="sxs-lookup"><span data-stu-id="ced8b-128">install command</span></span>](../tools/cli-ref-install.md)</li></ul> |

## <a name="what-happens-when-a-package-is-installed"></a><span data-ttu-id="ced8b-129">Co se stane, když je balíček nainstalován</span><span class="sxs-lookup"><span data-stu-id="ced8b-129">What happens when a package is installed</span></span>

<span data-ttu-id="ced8b-130">Jednoduše řečeno, různých nástrojů NuGet obvykle vytvořit odkaz na balíček v souboru projektu nebo `packages.config`, pak proveďte obnovení balíčků, které efektivně nainstaluje balíček.</span><span class="sxs-lookup"><span data-stu-id="ced8b-130">Simply said, the different NuGet tools typically create a reference to a package in the project file or `packages.config`, then perform a package restore, which effectively installs the package.</span></span> <span data-ttu-id="ced8b-131">Jedinou výjimkou je `nuget install`, který pouze rozbalí balíček do `packages` složky a další soubory nedojde ke změně.</span><span class="sxs-lookup"><span data-stu-id="ced8b-131">The exception is `nuget install`, which only expands the package into a `packages` folder and does not modify any other files.</span></span>

<span data-ttu-id="ced8b-132">Obecný postup je následující:</span><span class="sxs-lookup"><span data-stu-id="ced8b-132">The general process is as follows:</span></span>

1. <span data-ttu-id="ced8b-133">(Všechny nástroje, s výjimkou `nuget.exe`) záznam identifikátor balíčku a verzi do souboru projektu nebo `packages.config`.</span><span class="sxs-lookup"><span data-stu-id="ced8b-133">(All tools except `nuget.exe`) Record the package identifer and version into the project file or `packages.config`.</span></span>

1. <span data-ttu-id="ced8b-134">Získání balíčku:</span><span class="sxs-lookup"><span data-stu-id="ced8b-134">Acquire the package:</span></span>
    - <span data-ttu-id="ced8b-135">Zkontrolujte, zda balíček (číslem přesný identifikátor a verzi) je již nainstalován v *globální balíčky* složky, jak je popsáno na [správy globální balíčky a složky mezipaměti](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="ced8b-135">Check if the package (by exact identifer and version number) is already installed in the *global-packages* folder as described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

    - <span data-ttu-id="ced8b-136">Pokud není v balíčku *globální balíčky* složky, pokoušejí o načtení ho z uvedených zdrojů uvedených v [konfigurační soubory](Configuring-NuGet-Behavior.md).</span><span class="sxs-lookup"><span data-stu-id="ced8b-136">If the package is not in the *global-packages* folder, attempt to retrieve it from the sources listed listed in the [configuration files](Configuring-NuGet-Behavior.md).</span></span> <span data-ttu-id="ced8b-137">Pro online zdroje, pokus nejdřív načíst balíček z mezipaměti, pokud `-NoCache` je definován s `nuget.exe` příkazy nebo `--no-cache` je definován s `dotnet restore`.</span><span class="sxs-lookup"><span data-stu-id="ced8b-137">For online sources, attempt first to retrieve the package from the cache unless `-NoCache` is specified with `nuget.exe` commands or `--no-cache` is specified with `dotnet restore`.</span></span> <span data-ttu-id="ced8b-138">(Visual Studio a `dotnet add package` vždy používání mezipaměti.) Pokud se balíček používá z mezipaměti, se zobrazí ve výstupu "MEZIPAMĚŤ".</span><span class="sxs-lookup"><span data-stu-id="ced8b-138">(Visual Studio and `dotnet add package` always use the cache.) If a package is used from the cache, "CACHE" appears in the output.</span></span> <span data-ttu-id="ced8b-139">Mezipaměť obsahuje čas vypršení platnosti 30 minut.</span><span class="sxs-lookup"><span data-stu-id="ced8b-139">The cache has an expiration time of 30 minutes.</span></span>

    - <span data-ttu-id="ced8b-140">Pokud balíček není v mezipaměti, pokusí se ji stáhnout z zdroje uvedené v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="ced8b-140">If the package is not in the cache, attempt to download it from the sources listed in the configuration.</span></span> <span data-ttu-id="ced8b-141">Pokud se stáhne balíček, se zobrazí ve výstupu "GET" a "OK".</span><span class="sxs-lookup"><span data-stu-id="ced8b-141">If a package is downloaded, "GET" and "OK" appear in the output.</span></span>

    - <span data-ttu-id="ced8b-142">Pokud balíček nebylo možné získat úspěšně ze všech zdrojů, instalace selže v tomto okamžiku s chybou, jako [NU1103](../reference/errors-and-warnings.md#nu1103).</span><span class="sxs-lookup"><span data-stu-id="ced8b-142">If the package cannot be successfully acquired from any sources, installation fails at this point with an error such as [NU1103](../reference/errors-and-warnings.md#nu1103).</span></span> <span data-ttu-id="ced8b-143">Poznámka: tuto chyby ze `nuget.exe` příkazy Zobrazit pouze poslední zdroj zaškrtnuto, ale znamená, že balíček nebyl k dispozici z jakéhokoli zdroje.</span><span class="sxs-lookup"><span data-stu-id="ced8b-143">Note that errors from `nuget.exe` commands show only the last source checked, but implies that the package wasn't available from any source.</span></span>

    <span data-ttu-id="ced8b-144">Při získávání balíčku, může nainstalovat pořadí zdrojů v konfiguraci NuGet:</span><span class="sxs-lookup"><span data-stu-id="ced8b-144">When acquiring the package, the order of sources in the NuGet configuration may apply:</span></span>
      - <span data-ttu-id="ced8b-145">Pro projekty formátu PackageReference zkontroluje NuGet místní složky a síťové složky zdroje před zaškrtnutím zdrojů HTTP.</span><span class="sxs-lookup"><span data-stu-id="ced8b-145">For projects using the PackageReference format, NuGet checks sources local folder and network shares before checking HTTP sources.</span></span>
      - <span data-ttu-id="ced8b-146">U projektů pomocí `packages.config` formátu správy, NuGet používá pořadí zdrojů v konfiguraci.</span><span class="sxs-lookup"><span data-stu-id="ced8b-146">For projects using the `packages.config` management format, NuGet uses the order of the sources in the configuration.</span></span> <span data-ttu-id="ced8b-147">Výjimkou je operace obnovení v takovém případě je ignorováno zdroj řazení a NuGet používá balíček z libovolného zdrojového odpovídá nejdřív.</span><span class="sxs-lookup"><span data-stu-id="ced8b-147">An exception is restore operations, in which case source ordering is ignored and NuGet uses the package from whichever source responds first.</span></span>
      - <span data-ttu-id="ced8b-148">Obecně platí není zvlášť důležité, pořadí, ve kterém NuGet kontroluje zdroje, protože libovolný daný balíček s číslem konkrétní identifikátor a verzi se přesně shodují na jakémkoli zdroji zjistí.</span><span class="sxs-lookup"><span data-stu-id="ced8b-148">In general, the order in which NuGet checks sources isn't particularly meaningful, because any given package with a specific identifier and version number is exactly the same on whatever source it's found.</span></span>

1. <span data-ttu-id="ced8b-149">(Všechny nástroje, s výjimkou `nuget.exe`) uložit kopii balíčku a další informace v *http mezipaměti* složky, jak je popsáno na [správy globální balíčky a složky mezipaměti](managing-the-global-packages-and-cache-folders.md).</span><span class="sxs-lookup"><span data-stu-id="ced8b-149">(All tools except `nuget.exe`) Save a copy of the package and other information in the *http-cache* folder as described on [Managing the global packages and cache folders](managing-the-global-packages-and-cache-folders.md).</span></span>

1. <span data-ttu-id="ced8b-150">Pokud stáhli, nainstalujte balíček do za uživatelem *globální balíčky* složky.</span><span class="sxs-lookup"><span data-stu-id="ced8b-150">If downloaded, install the package into the per-user *global-packages* folder.</span></span> <span data-ttu-id="ced8b-151">Vytvoří podsložky pro každý identifikátor balíčku NuGet a potom vytvoří podsložky pro každou nainstalovanou verzi balíčku.</span><span class="sxs-lookup"><span data-stu-id="ced8b-151">NuGet creates a subfolder for each package identifier, then creates subfolders for each installed version of the package.</span></span>

1. <span data-ttu-id="ced8b-152">Aktualizace jiných projektu soubory a složky:</span><span class="sxs-lookup"><span data-stu-id="ced8b-152">Update other project files and folders:</span></span>

    - <span data-ttu-id="ced8b-153">Pro projekty pomocí PackageReference, aktualizovat graf závislostí balíček uložen v `obj/project.assets.json`.</span><span class="sxs-lookup"><span data-stu-id="ced8b-153">For projects using PackageReference, update the package dependency graph stored in `obj/project.assets.json`.</span></span> <span data-ttu-id="ced8b-154">Obsah balíčku sami nebudou zkopírovány do libovolné složky projektu.</span><span class="sxs-lookup"><span data-stu-id="ced8b-154">Package contents themselves are not copied into any project folder.</span></span>
    - <span data-ttu-id="ced8b-155">Pro projekty pomocí `packages.config`, zkopírujte části Rozšířené balíčku, které odpovídají cílový framework projektu na do projektu `packages` složky.</span><span class="sxs-lookup"><span data-stu-id="ced8b-155">For projects using `packages.config`, copy those parts of the expanded package that match the project's target framework into project's `packages` folder.</span></span> <span data-ttu-id="ced8b-156">(Při použití `nuget install`, celý rozšířené balíčku je zkopírovat, protože `nuget.exe` není zkontrolujte soubory projektu k identifikaci cílové rozhraní.)</span><span class="sxs-lookup"><span data-stu-id="ced8b-156">(When using `nuget install`, the entire expanded package is copied because `nuget.exe` does not examine project files to identify the target framework.)</span></span>
    - <span data-ttu-id="ced8b-157">Aktualizace `app.config` nebo `web.config` Pokud balíček používá [zdroje a konfiguračním souboru transformace](../create-packages/source-and-config-file-transformations.md).</span><span class="sxs-lookup"><span data-stu-id="ced8b-157">Update `app.config` and/or `web.config` if the package uses [source and config file transformations](../create-packages/source-and-config-file-transformations.md).</span></span>

1. <span data-ttu-id="ced8b-158">Nainstalujte všechny závislosti nižší úrovně, pokud není, který už v projektu.</span><span class="sxs-lookup"><span data-stu-id="ced8b-158">Install any down-level dependencies if not already present in the project.</span></span> <span data-ttu-id="ced8b-159">Tento proces může aktualizovat verze balíčku v procesu, jak je popsáno v [řešení závislostí](../consume-packages/dependency-resolution.md).</span><span class="sxs-lookup"><span data-stu-id="ced8b-159">This process might update package versions in the process, as described in [Dependency Resolution](../consume-packages/dependency-resolution.md).</span></span>

1. <span data-ttu-id="ced8b-160">(Jenom pro visual Studio) Zobrazte soubor readme balíčku, pokud je k dispozici, v okně Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="ced8b-160">(Visual Studio only) Display the package's readme file, if available, in a Visual Studio window.</span></span>

## <a name="related-articles"></a><span data-ttu-id="ced8b-161">Související články</span><span class="sxs-lookup"><span data-stu-id="ced8b-161">Related articles</span></span>

- [<span data-ttu-id="ced8b-162">Přehled a pracovní postup spotřeby balíčku</span><span class="sxs-lookup"><span data-stu-id="ced8b-162">Overview and workflow of package consumption</span></span>](../consume-packages/overview-and-workflow.md)
- [<span data-ttu-id="ced8b-163">Vyhledání a výběr balíčků</span><span class="sxs-lookup"><span data-stu-id="ced8b-163">Finding and choosing packages</span></span>](../consume-packages/finding-and-choosing-packages.md)
- [<span data-ttu-id="ced8b-164">Správa složky mezipaměti a globální balíčky NuGet</span><span class="sxs-lookup"><span data-stu-id="ced8b-164">Managing the NuGet cache and global-packages folders</span></span>](managing-the-global-packages-and-cache-folders.md)
- [<span data-ttu-id="ced8b-165">Konfigurace chování NuGetu</span><span class="sxs-lookup"><span data-stu-id="ced8b-165">Configuring NuGet behavior</span></span>](../consume-packages/configuring-nuget-behavior.md)
