---
title: NuGet pro různé platformy ověřování modulu plug-in
description: NuGet pro různé platformy ověřování moduly plug-in pro NuGet.exe, dotnet.exe, msbuild.exe a sady Visual Studio
author: nkolev92
ms.author: nikolev
ms.date: 07/01/2018
ms.topic: conceptual
ms.openlocfilehash: b76fab1028ec9a4172d2390083fbf9adb4290a6c
ms.sourcegitcommit: 0c5a49ec6e0254a4e7a9d8bca7daeefb853c433a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 11/28/2018
ms.locfileid: "52453504"
---
# <a name="nuget-cross-platform-authentication-plugin"></a><span data-ttu-id="e7cb6-103">NuGet pro různé platformy ověřování modulu plug-in</span><span class="sxs-lookup"><span data-stu-id="e7cb6-103">NuGet cross platform authentication plugin</span></span>

<span data-ttu-id="e7cb6-104">Ve verzi 4.8 +, všechny klienty (NuGet.exe, Visual Studio, dotnet.exe a MSBuild.exe) můžete použít ověřování modul plug-in postavený na NuGet [NuGet pro různé platformy moduly plug-in](NuGet-Cross-Platform-Plugins.md) modelu.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-104">In version 4.8+, all NuGet clients (NuGet.exe, Visual Studio, dotnet.exe and MSBuild.exe) can use an authentication plugin built on top of the [NuGet cross platform plugins](NuGet-Cross-Platform-Plugins.md) model.</span></span>

## <a name="authentication-in-dotnetexe"></a><span data-ttu-id="e7cb6-105">Ověřování v dotnet.exe</span><span class="sxs-lookup"><span data-stu-id="e7cb6-105">Authentication in dotnet.exe</span></span>

<span data-ttu-id="e7cb6-106">Visual Studio a NuGet.exe jsou ve výchozím nastavení interaktivní.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-106">Visual Studio and NuGet.exe are by default interactive.</span></span> <span data-ttu-id="e7cb6-107">NuGet.exe obsahuje přepínač k němu [neinteraktivního](../../tools/nuget-exe-CLI-Reference.md).</span><span class="sxs-lookup"><span data-stu-id="e7cb6-107">NuGet.exe contains a switch to make it [non interactive](../../tools/nuget-exe-CLI-Reference.md).</span></span>
<span data-ttu-id="e7cb6-108">Kromě modulů plug-in NuGet.exe a sady Visual Studio vyzve uživatele k zadání.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-108">Additionally the NuGet.exe and Visual Studio plugins prompt the user for input.</span></span>
<span data-ttu-id="e7cb6-109">V dotnet.exe není nebude tato výzva a výchozí hodnota je není interaktivní.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-109">In dotnet.exe there is no prompting and the default is non interactive.</span></span>

<span data-ttu-id="e7cb6-110">Mechanismus ověřování ve dotnet.exe je tok zařízení.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-110">The authentication mechanism in dotnet.exe is device flow.</span></span> <span data-ttu-id="e7cb6-111">Při obnovení nebo přidat operaci balíčku je spustit interaktivně, operace bloky a pokyny pro uživatele, jak k dokončení ověřování, poskytneme vám na příkazovém řádku.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-111">When the restore or add package operation is run interactively, the operation blocks and instructions to the user how to complete the authentications will be provided on the command line.</span></span>
<span data-ttu-id="e7cb6-112">Když je ověřování dokončeno uživatel operace bude pokračovat.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-112">When the user completes the authentication the operation will continue.</span></span>

<span data-ttu-id="e7cb6-113">Operace interaktivní, jeden by měl předáním `--interactive`.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-113">To make the operation interactive, one should pass `--interactive`.</span></span>
<span data-ttu-id="e7cb6-114">Aktuálně pouze explicitní `dotnet restore` a `dotnet add package` příkazy podpory interaktivní přepínače.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-114">Currently only the explicit `dotnet restore` and `dotnet add package` commands support an interactive switch.</span></span>
<span data-ttu-id="e7cb6-115">Neexistuje žádný interaktivní přepínač na `dotnet build` a `dotnet publish`.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-115">There is no interactive switch on `dotnet build` and `dotnet publish`.</span></span>

## <a name="authentication-in-msbuild"></a><span data-ttu-id="e7cb6-116">Ověřování v nástroji MSBuild</span><span class="sxs-lookup"><span data-stu-id="e7cb6-116">Authentication in MSBuild</span></span>

<span data-ttu-id="e7cb6-117">Podobně jako dotnet.exe MSBuild.exe je ve výchozím nastavení není že interaktivní je ověřovací mechanismus MSBuild.exe tok zařízení.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-117">Similar to dotnet.exe, MSBuild.exe is by default non interactive the MSBuild.exe authentication mechanism is device flow.</span></span>
<span data-ttu-id="e7cb6-118">Pokud chcete povolit obnovení pozastavení a počkejte, ověřování, volání obnovení s `msbuild -t:restore -p:NuGetInteractive="true"`.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-118">To allow the restore to pause and wait for authentication, call restore with `msbuild -t:restore -p:NuGetInteractive="true"`.</span></span>

## <a name="creating-a-cross-platform-authentication-plugin"></a><span data-ttu-id="e7cb6-119">Vytvoření modulu plug-in pro ověřování různé platformy</span><span class="sxs-lookup"><span data-stu-id="e7cb6-119">Creating a cross platform authentication plugin</span></span>

<span data-ttu-id="e7cb6-120">Ukázková implementace lze nalézt v [modul plugin poskytovatele přihlašovacích údajů Microsoft](https://github.com/Microsoft/artifacts-credprovider).</span><span class="sxs-lookup"><span data-stu-id="e7cb6-120">A sample implementation can be found in [Microsoft Credential Provider plugin](https://github.com/Microsoft/artifacts-credprovider).</span></span>

<span data-ttu-id="e7cb6-121">Je velmi důležité, moduly plug-in odpovídá na požadavky na zabezpečení stanoví pomocí klientských nástrojů Nugetu.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-121">It's very important that the plugins conforms to the security requirements set forth by the NuGet client tools.</span></span>
<span data-ttu-id="e7cb6-122">Minimální verze požadovaná pro modul plug-in bude ověřování modul plug-in je *2.0.0*.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-122">The minimum required version for a plugin to be an authentication plugin is *2.0.0*.</span></span>
<span data-ttu-id="e7cb6-123">NuGet provede ověření typu handshake modulu plug-in a dotazů pro deklarace identity podporovaná operace.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-123">NuGet will perform the handshake with the plugin and query for the supported operation claims.</span></span>
<span data-ttu-id="e7cb6-124">NuGet pro různé platformy modul plug-in najdete [zprávy protokolu](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) další podrobnosti o konkrétní zprávy.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-124">Please refer to the NuGet cross platform plugin [protocol messages](NuGet-Cross-Platform-Plugins.md#protocol-messages-index) for more details about the specific messages.</span></span>

<span data-ttu-id="e7cb6-125">NuGet nastavit úroveň protokolu, který se poskytují informace o proxy serveru pro modul plug-in v případě potřeby.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-125">NuGet will set the log level and provide proxy information to the plugin when applicable.</span></span>
<span data-ttu-id="e7cb6-126">Protokolování NuGet konzoly je přijatelné až NuGet nastavil úroveň protokolování pro modul plug-in.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-126">Logging to the NuGet console is only acceptable after NuGet has set the log level to the plugin.</span></span>

- <span data-ttu-id="e7cb6-127">Chování ověřování modulu plug-in rozhraní .NET framework</span><span class="sxs-lookup"><span data-stu-id="e7cb6-127">.NET Framework plugin authentication behavior</span></span>

<span data-ttu-id="e7cb6-128">V rozhraní .NET Framework na moduly plug-in můžou vyzvat uživatele k zadání vstupu v podobě dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-128">In .NET Framework, the plugins are allowed to prompt a user for input, in the form of a dialog.</span></span>

- <span data-ttu-id="e7cb6-129">Chování ověřování modulu plug-in .NET core</span><span class="sxs-lookup"><span data-stu-id="e7cb6-129">.NET Core plugin authentication behavior</span></span>

<span data-ttu-id="e7cb6-130">V .NET Core nelze zobrazit dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-130">In .NET Core, a dialog cannot be shown.</span></span> <span data-ttu-id="e7cb6-131">Moduly plug-in k ověření používala zařízení toku.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-131">The plugins should use device flow to authenticate.</span></span>
<span data-ttu-id="e7cb6-132">Modul plug-in můžete odesílat zprávy protokolu NuGet s pokyny pro uživatele.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-132">The plugin can send log messages to NuGet with instructions to the user.</span></span>
<span data-ttu-id="e7cb6-133">Všimněte si, že je protokolování je k dispozici po úroveň protokolu je nastavená na modul plug-in.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-133">Note that logging is available after the log level has been set to the plugin.</span></span>
<span data-ttu-id="e7cb6-134">NuGet nepořizuje žádné interaktivní vstup z příkazového řádku.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-134">NuGet will not take any interactive input from the command line.</span></span>

<span data-ttu-id="e7cb6-135">Když klient volá modul plug-in se získat přihlašovací údaje pro ověření, třeba moduly plug-in v souladu s přepínačem interaktivitu a respektovat přepínač dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-135">When the client calls the plugin with a Get Authentication Credentials, the plugins need to conform to the interactivity switch and respect the dialog switch.</span></span> 

<span data-ttu-id="e7cb6-136">Následující tabulka shrnuje chování modulu plug-in pro všechny kombinace.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-136">The following table summarizes how the plugin should behave for all combinations.</span></span>

| <span data-ttu-id="e7cb6-137">IsNonInteractive</span><span class="sxs-lookup"><span data-stu-id="e7cb6-137">IsNonInteractive</span></span> | <span data-ttu-id="e7cb6-138">CanShowDialog</span><span class="sxs-lookup"><span data-stu-id="e7cb6-138">CanShowDialog</span></span> | <span data-ttu-id="e7cb6-139">Chování modulu plug-in</span><span class="sxs-lookup"><span data-stu-id="e7cb6-139">Plugin behavior</span></span> |
| ---------------- | ------------- | --------------- |
| <span data-ttu-id="e7cb6-140">true</span><span class="sxs-lookup"><span data-stu-id="e7cb6-140">true</span></span> | <span data-ttu-id="e7cb6-141">true</span><span class="sxs-lookup"><span data-stu-id="e7cb6-141">true</span></span> | <span data-ttu-id="e7cb6-142">Přepínač IsNonInteractive má přednost před přepínačem dialogového okna.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-142">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="e7cb6-143">Modul plug-in není povoleno vyvolat přes pop dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-143">The plugin is not allowed to pop a dialog.</span></span> <span data-ttu-id="e7cb6-144">Tato kombinace platí pouze pro moduly plug-in rozhraní .NET Framework</span><span class="sxs-lookup"><span data-stu-id="e7cb6-144">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="e7cb6-145">true</span><span class="sxs-lookup"><span data-stu-id="e7cb6-145">true</span></span> | <span data-ttu-id="e7cb6-146">false</span><span class="sxs-lookup"><span data-stu-id="e7cb6-146">false</span></span> | <span data-ttu-id="e7cb6-147">Přepínač IsNonInteractive má přednost před přepínačem dialogového okna.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-147">The IsNonInteractive switch takes precedence over the dialog switch.</span></span> <span data-ttu-id="e7cb6-148">Modul plug-in není povolené blokování.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-148">The plugin is not allowed to block.</span></span> <span data-ttu-id="e7cb6-149">Tato kombinace platí pouze pro moduly plug-in .NET Core</span><span class="sxs-lookup"><span data-stu-id="e7cb6-149">This combination is only valid for .NET Core plugins</span></span> |
| <span data-ttu-id="e7cb6-150">false</span><span class="sxs-lookup"><span data-stu-id="e7cb6-150">false</span></span> | <span data-ttu-id="e7cb6-151">true</span><span class="sxs-lookup"><span data-stu-id="e7cb6-151">true</span></span> | <span data-ttu-id="e7cb6-152">Modul plug-in by se zobrazit dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-152">The plugin should show a dialog.</span></span> <span data-ttu-id="e7cb6-153">Tato kombinace platí pouze pro moduly plug-in rozhraní .NET Framework</span><span class="sxs-lookup"><span data-stu-id="e7cb6-153">This combination is only valid for .NET Framework plugins</span></span> |
| <span data-ttu-id="e7cb6-154">false</span><span class="sxs-lookup"><span data-stu-id="e7cb6-154">false</span></span> | <span data-ttu-id="e7cb6-155">false</span><span class="sxs-lookup"><span data-stu-id="e7cb6-155">false</span></span> | <span data-ttu-id="e7cb6-156">Modul plug-in byste/může nezobrazovat dialogové okno.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-156">The plugin should/can not show a dialog.</span></span> <span data-ttu-id="e7cb6-157">Modul plug-in byste tok zařízení používají k ověření protokolováním zprávu instrukce prostřednictvím protokolovacího nástroje.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-157">The plugin should use device flow to authenticate by logging an instruction message via the logger.</span></span> <span data-ttu-id="e7cb6-158">Tato kombinace platí pouze pro moduly plug-in .NET Core</span><span class="sxs-lookup"><span data-stu-id="e7cb6-158">This combination is only valid for .NET Core plugins</span></span> |

<span data-ttu-id="e7cb6-159">Před zápisem modul plug-in najdete následující specifika plánu.</span><span class="sxs-lookup"><span data-stu-id="e7cb6-159">Please refer to the following specs before writing a plugin.</span></span>

- [<span data-ttu-id="e7cb6-160">Modul plug-in stahování balíčku NuGet</span><span class="sxs-lookup"><span data-stu-id="e7cb6-160">NuGet Package Download Plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-Package-Download-Plugin)
- [<span data-ttu-id="e7cb6-161">NuGet pro různé platformy ověřování modulu plug-in</span><span class="sxs-lookup"><span data-stu-id="e7cb6-161">NuGet cross plat authentication plugin</span></span>](https://github.com/NuGet/Home/wiki/NuGet-cross-plat-authentication-plugin)
